move timestamp to server function
service error handling